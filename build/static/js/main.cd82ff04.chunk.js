(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(67)},47:function(e,t,n){},49:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a,r=n(2),c=n.n(r),s=n(26),u=n.n(s),i=n(7),o=n(10),l=n(36),E=(n(47),n(30)),m=n(31),d=n(37),f=n(32),p=n(38),S=(n(49),function(e){var t=e.users;return c.a.createElement("aside",{id:"sidebar",className:"sidebar"},c.a.createElement("ul",null,t.map(function(e){return c.a.createElement("li",{key:e.id},e.name)})))}),h=Object(i.b)(function(e){return{users:e.users}},{})(S),v=function(e){var t=e.message,n=e.author;return c.a.createElement("li",null,c.a.createElement("i",null,n),": ",t)},g=function(e){var t=e.messages;return c.a.createElement("section",{id:"messages-list"},c.a.createElement("ul",null,t.map(function(e){return c.a.createElement(v,Object.assign({key:e.id},e))})))},b=Object(i.b)(function(e){return{messages:e.messages}},{})(g),y=function(e){var t;return c.a.createElement("section",{id:"new-message"},c.a.createElement("input",{onKeyPress:function(n){"Enter"===n.key&&(e.dispatch(t.value,"Me"),t.value="")},type:"text",ref:function(e){t=e}}))},D=0,w=0,O=Object(i.b)(function(){return{}},function(e){return{dispatch:function(t,n){e(function(e,t){return{type:"ADD_MESSAGE",id:D++,message:e,author:t}}(t,n))}}})(y),A=n(33),j=n.n(A),_=function(e){var t=e.video;return t[t.length-1]?c.a.createElement(j.a,{url:t[t.length-1].url,playing:!0}):""},k=Object(i.b)(function(e){return{video:e.video}},{})(_),R=n(34),M=n.n(R);try{(a=M.a.ip())&&(/^10[.]|^172[.](1[6-9]|2[0-9]|3[0-1])[.]|^192[.]168[.]/.test(a)||(a=void 0))}catch(z){}console.log(a);var G=function(e){function t(){return Object(E.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"container"},c.a.createElement(h,null),c.a.createElement("section",{id:"main"},c.a.createElement(b,null),c.a.createElement(O,null)),c.a.createElement("section",{id:"player"},c.a.createElement(k,null)))}}]),t}(r.Component),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":case"MESSAGE_RECEIVED":return e.concat([{message:t.message,author:t.author,id:t.id}]);default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return e.concat([{name:t.name,id:t.id}]);case"USERS_LIST":return t.users;default:return e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":case"MESSAGE_RECEIVED":return e.concat([{url:t.message}]);default:return e}},x=Object(o.c)({messages:I,users:U,video:J}),C=n(18),N=n.n(C),L=n(13),T=N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)("ADD_MESSAGE",function(e){e.author=t.username,t.socket.send(JSON.stringify(e))});case 2:case"end":return e.stop()}},e,this)}),V=function(e,t){var n,a=window.location;n="https:"===a.protocol?"wss:":"ws:",n+="//"+a.host,n+=a.pathname+"/to/ws";var r=new WebSocket(n);return r.onopen=function(){r.send(JSON.stringify({type:"ADD_USER",name:t}))},r.onmessage=function(t){var n,a,r,c=JSON.parse(t.data);switch(c.type){case"ADD_MESSAGE":e((a=c.message,r=c.author,{type:"MESSAGE_RECEIVED",id:D++,message:a,author:r}));break;case"ADD_USER":e((n=c.name,{type:"ADD_USER",id:w++,name:n}));break;case"USERS_LIST":e({type:"USERS_LIST",users:c.users})}},r},B=n(35),K=(new(n.n(B).a)).first(),P=Object(l.a)(),W=Object(o.d)(x,Object(o.a)(P)),q=V(W.dispatch,K);P.run(T,{socket:q,username:K}),u.a.render(c.a.createElement(i.a,{store:W},c.a.createElement(G,null)),document.getElementById("root"))}},[[39,2,1]]]);
//# sourceMappingURL=main.cd82ff04.chunk.js.map